(()=>{document.addEventListener("DOMContentLoaded",function(){let d=document.querySelector("article"),l=document.getElementById("reading-progress"),a=document.getElementById("percent");function s(){if(!d||!l||!a)return;let t=d.getBoundingClientRect(),o=t.top,i=t.height,e=window.innerHeight,c=-o,r=i-e,n=Math.min(100,Math.max(0,Math.round(c/r*100)));t.bottom<=e&&(n=100),l.style.width=`${n}%`,a.textContent=n}function u(t,o){let i,e=0;return function(...c){let r=Date.now(),n=this;r-e>=o?(t.apply(n,c),e=r):(clearTimeout(i),i=setTimeout(()=>{t.apply(n,c),e=Date.now()},o))}}window.addEventListener("scroll",u(s,100),{passive:!0}),window.addEventListener("resize",u(s,100),{passive:!0}),s()});})();
